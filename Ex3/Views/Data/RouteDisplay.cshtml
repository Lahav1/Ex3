@{
    ViewBag.Title = "LocationDisplay";
}


<body>
    <style>
        html, body {
            background-image: url(/Content/export-map-share.png);
            background-size: 100% 100%;
            background-position: center center;
            background-attachment: fixed;
            background-repeat: no-repeat;
        }
    </style>
    <canvas id="myCanvas" style="width: 100%; height: 100%"></canvas>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
</body>

<script>
        var intervalTime = 5000;
        myTimer = (function () {
            $.get("@Url.Action("GetValues")", function(str) {
                alert(str);

                var canvas = document.getElementById("myCanvas");
                var dimension = [document.documentElement.clientWidth, document.documentElement.clientHeight];
                canvas.width = dimension[0];
                canvas.height = dimension[1];


                var ctx = canvas.getContext("2d");
                ctx.canvas.width = canvas.width;
                ctx.canvas.height = canvas.height;

                var values = str.split(" ");
                Lon = values[0];
                Lat = values[1];


                var normalLon = (Lon + 180) * (canvas.width / 360);
                var normalLat = (Lat + 90) * (canvas.height / 180);

                ctx.beginPath();
                ctx.arc(normalLon, normalLat, 5, 0, 2 * Math.PI);
                ctx.fillStyle = "red";
                ctx.fill();
                ctx.stroke();
            });
        });
        setInterval(myTimer, intervalTime);
</script>
